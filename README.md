# TOIB-PR4.2-Kar
# Практическое задание на тему "Контроль целостности"
Выполнил студент группы: ББМО-02-23 Карпейкин Владислав Анатольевич
## Установка и запуск виртуальной машины с Astra linux
Для выполнения данного задания был скачан образ Astra Linux ( ссылка: https://1drv.ms/u/s!Ap1Ijs338IQ9gZFmLJ5hn45FgcVLoQ?e=mH7Jzg ) и установлена версия системы "Смоленск" с максимальным уровнем защиты

![1](https://github.com/Vladislav789k/TOIB-PR4.2/assets/71137501/59693178-19be-4b2c-9a66-acc28ebfa25e)


## Установка, настройка и проверка мандатного контроля целостности (МКЦ)
Для установки МКЦ в ОС Astra Linux выбираем указанные галочки в процессе установки ISO образа 

![2](https://github.com/Vladislav789k/TOIB-PR4.2/assets/71137501/a3765683-8b98-444f-b4a6-d485def61c21)


Для измнения конфигурации МКЦ в Astra Linux необходимо запустить утилиту "Управление политикой безопасности"

![3](https://github.com/Vladislav789k/TOIB-PR4.2/assets/71137501/bc928b99-bc12-4515-9bb0-e9892ddb0d4f)


В меню "Режим эксперта" назначаем уровни целостности для директорий. В качестве проверки правила NWU обозначили 2 тестовые директории ("Музыка" и "Видео") с  правами:

![4](https://github.com/Vladislav789k/TOIB-PR4.2/assets/71137501/1ffca163-43da-4015-b655-505974c6dbca)


Проверяем настройку мандатного контроля зайдя в учетную запись с атрибутом целостности на уровне "Низкий".

Пример взаимодействия (записи) между тестовыми директориями:

![5](https://github.com/Vladislav789k/TOIB-PR4.2/assets/71137501/bb7631f3-e605-4922-998e-6ff09d489cef)


Здесь можно увидеть, что копирование файла с атрибутом ниже в папку с атрибутом выше не сработало - была получена ошибка доступа. В то же время "запись вниз" работает.
## Работа с режимом замкнутой программной среды (ЗПС)
Проверка работы режима ЗПС в утилите "Управлении политикой безопасности" посредством включения настроек:

![6](https://github.com/Vladislav789k/TOIB-PR4.2/assets/71137501/a40165a9-ae08-4158-9802-6aab662db198)



## Работа с утилитами контроля целостности и регламентного контроля целостности
### Использование `gostsum`
Утилита `gostsum` вычисляет хэш-сумму файлов в соответствии с ГОСТ Р 34.11-2012. Пример использования с .deb пакетом установки AnyDesk:

![7](https://github.com/Vladislav789k/TOIB-PR4.2/assets/71137501/ce32e4e8-ad80-4f4f-a60c-d1747cdff77f)


### Использование `afick`
`afick` - утилита, предназначенная для контроля целостности файловой системы ОС. Для корректной работы утилиты сначала создаём БД утилиты:

![8](https://github.com/Vladislav789k/TOIB-PR4.2/assets/71137501/34f18898-1788-4b01-8594-5e0eebb8bd06)


Далее изменяем часть системных файлов для получения ответа от утилиты, перед этим делаем "бэкап" файл:

![9](https://github.com/Vladislav789k/TOIB-PR4.2/assets/71137501/5f8c45a2-0361-4f6c-9647-99ee983f8a74)


Получили результат от утилиты:

![10](https://github.com/Vladislav789k/TOIB-PR4.2/assets/71137501/45ab2a26-9f8e-44e8-8789-8f9fdc351fc3)


![11](https://github.com/Vladislav789k/TOIB-PR4.2/assets/71137501/e56836fc-3b50-41ad-bbf5-b882d752ad7a)

